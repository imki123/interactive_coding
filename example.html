<html>
  <style>
    * {
      box-sizing: border-box;
    }
    html,
    body {
      margin: 0px;
    }

    #refresh {
      width: 48px;
      height: 48px;
    }

    .refresh {
      animation: refreshing infinite 1s linear;
    }

    @keyframes refreshing {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    .scrollBox {
      height: 200px;
      width: 200px;
      overflow: auto;
      border: 1px solid black;
    }
    .innerBox {
      height: 1000px;
      background: linear-gradient(white, black);
    }
  </style>

  <body>
    <button id="refresh">이미지</button>
    <div>
      <button onClick="refreshing()">새로고침</button>
    </div>
    <div class="scrollBox">
      <div class="innerBox"></div>
    </div>
    <button onclick="checkScroll()">check</button>

    <script>
      /* const funcs = []
      
      for(let i=0; i<3; i++){
        funcs[i] = () => {
          console.log(i)
          return i
        }
      }
      console.log('')
      console.log(funcs[0]())
      console.log(funcs[1]())
      console.log(funcs[2]()) */

      //비동기함수 반복문
      /* for (var i = 0; i < 4; i++) {
        ((x) => {
          setTimeout(() => {
            console.log(x)
          }, 1000 * x)
        })(i)
      }*/
      let i = 0
      console.log(i++)
      let interval = setInterval(() => {
        console.log(i++)
        if (i >= 4) clearInterval(interval)
      }, 1000) /**/

      //bind, call, apply
      function hello(a, b, c) {
        name = "기영"
        //console.log(`hello ${this.name} ${a} ${b} ${c}`)
      }
      const obj = {
        name: "임기123",
      }
      hello() //hello 기영 undefined undefined undefined
      //bind
      objHello = hello.bind(obj) //hello함수의 this가 obj인 새로운 함수를 리턴한다.
      objHello() //hello 임기123 undefined undefined undefined //this가 obj인 hello함수를 실행한다.
      //call, apply
      hello.call(obj, 1, 2, 3) //hello 임기123 1 2 3 //hello함수를 실행하는데 this는 obj를 가리킨다. 파라미터로 인수들을 받는다.
      hello.apply(obj, [1, 2, 3]) //hello 임기123 1 2 3 //위와 같다. 파라미터로 배열 하나를 받는다.

      let book = {}
      let f1 = "abc"
      let f2 = "123"
      if (book[f1]) book[f1].push(f2)
      else {
        book[f1] = [f2]
      }
      if (book[f2]) book[f2].push(f1)
      else {
        book[f2] = [f1]
      }

      //console.log('-------',book)

      let nums = [5, 4, 3, 2]
      nums.sort((a, b) => a - b)
      //console.log(nums)
      const user = {
        name: "임기영",
        Hello: function () {
          //console.log(this)
        },
        Hi() {
          //console.log(this)
        },
      }
      user.Hello()
      user.Hi()

      //User 생성자
      function User(name) {
        this.name = name
      }
      //User.Hello 메서드
      User.prototype.Hello = function () {
        //console.log(this)
      }
      const ki = new User("기영")
      ki.Hello()
      //console.log(ki.__proto__)
      //console.log(User.prototype)

      const scrollBox = document.querySelector(".scrollBox")
      function checkScroll() {
        /* console.log(
          scrollBox.clientHeight,
          scrollBox.scrollHeight,
          scrollBox.scrollTop
        ) */
      }

      let refreshToggle = false
      const refresh = document.querySelector("#refresh")
      function refreshing() {
        if (refresh) {
          fetch(
            "https://blog-imki123-backend.herokuapp.com/catbook/translate/ko/hello",
            {
              headers: {
                "Access-Control-Allow-Origin": "https://imki123.github.io",
              },
            }
          )
          if (!refreshToggle) {
            // toggle이 false이면 클래스 추가
            refresh.classList.add("refresh")
            refreshToggle = true
          } else {
            // toggle이 true이면 클래스 제거
            refresh.classList.remove("refresh")
            refreshToggle = false
          }
        }
      }
    </script>
  </body>
  <html></html>
</html>
